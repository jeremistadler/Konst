(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9659:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(5893),o=n(4942),c=n(7294),s=n(7676);function a(e){var t=e.send,n=(0,c.useState)(""),o=n[0],s=n[1];return(0,r.jsxs)("form",{className:"m-5 p-5 flex flex-col",children:[(0,r.jsx)("textarea",{value:o,onChange:function(e){return s(e.target.value)},placeholder:"I remember...",className:"p-5 border border-gray-400 text-lg"}),(0,r.jsx)("div",{className:"flex flex-row justify-end",children:(0,r.jsx)("input",{type:"submit",onClick:function(e){e.preventDefault(),t({text:o}),s("")},value:"Share",className:"mt-5 px-5 py-2 border-0 bg-gunnelDarkBlue rounded text-white hover:opacity-90"})})]})}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};class h extends c.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((()=>{this.reCalculateColumnCount()}))):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!==typeof t&&(t={default:parseInt(t)||2});let n=1/0,r=t.default||2;for(let o in t){const c=parseInt(o);c>0&&e<=c&&c<n&&(n=c,r=t[o])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),n=c.Children.toArray(this.props.children);for(let r=0;r<n.length;r++){const o=r%e;t[o]||(t[o]=[]),t[o].push(n[r])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:n}=this.props,r=this.itemsInColumns(),o=100/r.length+"%";let s=n;s&&"string"!==typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof s&&(s="my-masonry-grid_column"));const a=f(f(f({},e),t),{},{style:f(f({},t.style),{},{width:o}),className:s});return r.map(((e,t)=>c.createElement("div",i({},a,{key:t}),e)))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:n,columnClassName:r,columnAttrs:o,column:s,className:a}=e,l=u(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let f=a;return"string"!==typeof a&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof a&&(f="my-masonry-grid")),c.createElement("div",i({},l,{className:f}),this.renderColumns())}}h.defaultProps=p;var v=h,b=n(9008),m=function(){return(0,r.jsxs)(b.default,{children:[(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=MonteCarlo&display=swap",rel:"stylesheet"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Baskervville&display=swap",rel:"stylesheet"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width"}),(0,r.jsx)("title",{children:"In remembrance of Gunnel"})]})};var S={src:"/_next/static/image/public/57b3c702-9573-4803-a67b-68f6a573bc8c.cd3f3e0e0273abd14cb0849bbc601890.png",height:400,width:327,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAARVBMVEXp6+3r6+GtxN/M1efc4Onv7N3u6NLx8/T1+Pnt8O65zeHr7ebmz8Hf38jX09WTq9WGq9fVzMOtxtLcz5zq47fT0and5dxCQDNcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOklEQVQImQXBhwHAIAwEsQMMb1PSk/1HjYS7RRvg8xxPBc0VbRlq3/XeG7X2w1ICldwDpLLnAJcM+AE9uQGx//+95QAAAABJRU5ErkJggg=="},y=function(){return(0,r.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 384 512",color:"#000000",style:{color:"rgb(0, 0, 0)"},height:"12px",width:"12px",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M352 128h-96V32c0-17.67-14.33-32-32-32h-64c-17.67 0-32 14.33-32 32v96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h96v224c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V256h96c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"})})},O=function(){return(0,r.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 512 512",color:"#000000",style:{color:"rgb(0, 0, 0)"},height:"11px",width:"11px",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z"})})};function E(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),(0,r.jsxs)("div",{className:"flex flex-col items-center px-10 min-h-screen shadow-xl",style:{boxShadow:"0 0 10px rgba(0,0,0,0.2)"},children:[(0,r.jsx)("div",{className:"h-12"}),(0,r.jsx)("img",{src:S,height:200,width:163.28125}),(0,r.jsx)("h1",{className:"text-6xl mx-1 my-3 mt-7",children:"Gunnel Engqvist"}),(0,r.jsx)("h3",{className:"mx-1 text-2xl text-gunnelDarkBlue mt-2",children:"Born Krantz"}),(0,r.jsxs)("h2",{className:"m-4 text-xl mt-10",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(O,{}),(0,r.jsx)("span",{className:"mx-1",children:"1941-09-16"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center mt-4 mb-6",children:[(0,r.jsx)(y,{}),(0,r.jsx)("span",{className:"mx-1",children:"2021-08-07"})]})]})]})}var w=n(3271);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=(window.location.protocol,"wss://ianna.art/ws"),_=null;function x(){var e=(0,c.useState)(null),t=e[0],n=e[1],o=(0,s.ZP)(N+"/"+function(){try{if(_)return _;var e=localStorage.getItem("t");return e?(_=e,e):(e=(0,w.D)(20),localStorage.setItem("t",e),_=e,e)}catch(t){return(0,w.D)(20)}}(),{onMessage:function(e){try{var t="string"===typeof e.data?JSON.parse(e.data):e.data;"update"===t.type&&n(t)}catch(r){console.error(r)}}}).sendMessage,u=(0,c.useState)(""),i=u[0],l=u[1],f=(0,c.useState)(!1),d=f[0],p=f[1],h=function(e){o(JSON.stringify({type:"share",data:C(C({},e),{},{isAuthorAnon:d,authorName:i})}))},b=function(){return(0,r.jsxs)("div",{className:"flex flex-col flex-1 pt-4 bg-gunnelBlue",children:[(0,r.jsx)("input",{type:"text",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Name...",className:"mx-10 p-5 border border-gray-100 max-w-sm"}),(0,r.jsxs)("div",{className:"mx-10 mt-4",children:[(0,r.jsx)("input",{id:"isAnon",name:"isAnon",type:"checkbox",checked:d,onChange:function(e){return p(e.target.checked)},className:"ml-5 mr-3 border border-gray-100"}),(0,r.jsx)("label",{htmlFor:"isAnon",children:"Anonymous (hide my name) "})]}),(0,r.jsx)("div",{className:"text-center m-8",children:"Bild p\xe5 ett ljus kommer h\xe4r..."}),(0,r.jsx)(a,{send:h}),(0,r.jsx)("div",{className:"h-28"}),(0,r.jsxs)("h2",{className:"m-5 mb-11 text-5xl text-center text-gunnelDarkBlue",children:[" ","\u2013 We will remember \u2013"," "]}),(0,r.jsx)("div",{className:"h-20"}),(0,r.jsx)(v,{breakpointCols:3,className:"my-masonry-grid mx-5",columnClassName:"my-masonry-grid_column",children:null===t||void 0===t?void 0:t.posts.map((function(e){return(0,r.jsx)("div",{className:"whitespace-pre-wrap p-3",children:(0,r.jsxs)("div",{className:"bg-white bg-opacity-60 rounded p-3 px-5",children:[(0,r.jsx)("div",{className:"text-gunnelDarkBlue text-lg",children:e.post_text.trim()}),(0,r.jsxs)("div",{className:"text-gunnelDarkBlue opacity-60 mt-2 italic text-right",children:["\u2013 ",e.author_name]})]})},e.id)}))})]})};return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,r.jsx)(m,{}),(0,r.jsx)(E,{}),(0,r.jsx)(b,{})]})}},3271:function(e){e.exports.D=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e;r++)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n.join("")}},8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9659)}])},9008:function(e,t,n){e.exports=n(639)},7676:function(e,t,n){"use strict";var r=n(1835);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.useWebSocket}});var o=n(6548);var c=n(1581);var s=n(9448)},3682:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.attachListeners=void 0;var o=n(1787),c=n(1581),s=n(9885);t.attachListeners=function(e,t,n,a,u,i){var l,f,d,p=t.setLastMessage,h=t.setReadyState;return n.current.fromSocketIO&&(l=o.setUpSocketIOPing(i)),function(e,t,n){e.onmessage=function(e){t.current.onMessage&&t.current.onMessage(e),"function"===typeof t.current.filter&&!0!==t.current.filter(e)||n(e)}}(e,n,p),function(e,t,n,r){e.onopen=function(e){t.current.onOpen&&t.current.onOpen(e),r.current=0,n(c.ReadyState.OPEN)}}(e,n,h,u),f=function(e,t,n,r,o){return c.isEventSourceSupported&&e instanceof EventSource?function(){}:(s.assertIsWebSocket(e),e.onclose=function(e){var s,u;if(t.current.onClose&&t.current.onClose(e),n(c.ReadyState.CLOSED),t.current.shouldReconnect&&t.current.shouldReconnect(e)){var i=null!==(s=t.current.reconnectAttempts)&&void 0!==s?s:c.DEFAULT_RECONNECT_LIMIT;o.current<i?a=window.setTimeout((function(){o.current++,r()}),null!==(u=t.current.reconnectInterval)&&void 0!==u?u:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.current.onReconnectStop&&t.current.onReconnectStop(i),console.warn("Max reconnect attempts of "+i+" exceeded"))}},function(){return a&&window.clearTimeout(a)});var a}(e,n,h,a,u),d=function(e,t,n,o,s){var a;return e.onerror=function(u){var i,l;t.current.onError&&t.current.onError(u),c.isEventSourceSupported&&e instanceof EventSource&&(t.current.onClose&&t.current.onClose(r(r({},u),{code:1006,reason:"An error occurred with the EventSource: "+u,wasClean:!1})),n(c.ReadyState.CLOSED),e.close()),t.current.retryOnError&&(s.current<(null!==(i=t.current.reconnectAttempts)&&void 0!==i?i:c.DEFAULT_RECONNECT_LIMIT)?a=window.setTimeout((function(){s.current++,o()}),null!==(l=t.current.reconnectInterval)&&void 0!==l?l:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.current.onReconnectStop&&t.current.onReconnectStop(t.current.reconnectAttempts),console.warn("Max reconnect attempts of "+t.current.reconnectAttempts+" exceeded")))},function(){return a&&window.clearTimeout(a)}}(e,n,h,a,u),function(){h(c.ReadyState.CLOSING),f(),d(),e.close(),l&&clearInterval(l)}}},7678:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.attachSharedListeners=void 0;var o=n(4401),c=n(1581),s=n(4480),a=n(1787);t.attachSharedListeners=function(e,t,n,u){var i;return n.current.fromSocketIO&&(i=a.setUpSocketIOPing(u)),function(e,t){e.onmessage=function(e){s.getSubscribers(t).forEach((function(t){t.optionsRef.current.onMessage&&t.optionsRef.current.onMessage(e),"function"===typeof t.optionsRef.current.filter&&!0!==t.optionsRef.current.filter(e)||t.setLastMessage(e)}))}}(e,t),function(e,t){e instanceof WebSocket&&(e.onclose=function(e){s.getSubscribers(t).forEach((function(t){t.optionsRef.current.onClose&&t.optionsRef.current.onClose(e),t.setReadyState(c.ReadyState.CLOSED)})),delete o.sharedWebSockets[t],s.getSubscribers(t).forEach((function(t){var n,r;if(t.optionsRef.current.shouldReconnect&&t.optionsRef.current.shouldReconnect(e)){var o=null!==(n=t.optionsRef.current.reconnectAttempts)&&void 0!==n?n:c.DEFAULT_RECONNECT_LIMIT;t.reconnectCount.current<o?setTimeout((function(){t.reconnectCount.current++,t.reconnect.current()}),null!==(r=t.optionsRef.current.reconnectInterval)&&void 0!==r?r:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.optionsRef.current.onReconnectStop&&t.optionsRef.current.onReconnectStop(t.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of "+o+" exceeded"))}}))})}(e,t),function(e,t){e.onopen=function(e){s.getSubscribers(t).forEach((function(t){t.reconnectCount.current=0,t.optionsRef.current.onOpen&&t.optionsRef.current.onOpen(e),t.setReadyState(c.ReadyState.OPEN)}))}}(e,t),function(e,t){e.onerror=function(n){s.getSubscribers(t).forEach((function(t){t.optionsRef.current.onError&&t.optionsRef.current.onError(n),c.isEventSourceSupported&&e instanceof EventSource&&(t.optionsRef.current.onClose&&t.optionsRef.current.onClose(r(r({},n),{code:1006,reason:"An error occurred with the EventSource: "+n,wasClean:!1})),t.setReadyState(c.ReadyState.CLOSED))})),c.isEventSourceSupported&&e instanceof EventSource&&e.close()}}(e,t),function(){i&&clearInterval(i)}}},1581:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEventSourceSupported=t.isReactNative=t.ReadyState=t.UNPARSABLE_JSON_OBJECT=t.DEFAULT_RECONNECT_INTERVAL_MS=t.DEFAULT_RECONNECT_LIMIT=t.SOCKET_IO_PING_CODE=t.SOCKET_IO_PATH=t.SOCKET_IO_PING_INTERVAL=t.DEFAULT_EVENT_SOURCE_OPTIONS=t.EMPTY_EVENT_HANDLERS=t.DEFAULT_OPTIONS=void 0;t.DEFAULT_OPTIONS={},t.EMPTY_EVENT_HANDLERS={},t.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:t.EMPTY_EVENT_HANDLERS},t.SOCKET_IO_PING_INTERVAL=25e3,t.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",t.SOCKET_IO_PING_CODE="2",t.DEFAULT_RECONNECT_LIMIT=20,t.DEFAULT_RECONNECT_INTERVAL_MS=5e3,t.UNPARSABLE_JSON_OBJECT={},function(e){e[e.UNINSTANTIATED=-1]="UNINSTANTIATED",e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(t.ReadyState||(t.ReadyState={}));t.isReactNative="undefined"!==typeof navigator&&"ReactNative"===navigator.product,t.isEventSourceSupported=!t.isReactNative&&function(){try{return"EventSource"in globalThis}catch(e){return!1}}()},3758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrJoinSocket=void 0;var r=n(4401),o=n(1581),c=n(3682),s=n(7678),a=n(4480);t.createOrJoinSocket=function(e,t,n,u,i,l,f,d){if(!o.isEventSourceSupported&&u.current.eventSourceOptions)throw o.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(u.current.share){var p=null;void 0===r.sharedWebSockets[t]?(n(o.ReadyState.CONNECTING),r.sharedWebSockets[t]=u.current.eventSourceOptions?new EventSource(t,u.current.eventSourceOptions):new WebSocket(t,u.current.protocols),p=s.attachSharedListeners(r.sharedWebSockets[t],t,u,d)):n(r.sharedWebSockets[t].readyState);var h={setLastMessage:i,setReadyState:n,optionsRef:u,reconnectCount:f,reconnect:l};return a.addSubscriber(t,h),e.current=r.sharedWebSockets[t],function(e,t,n,c,s){return function(){if(a.removeSubscriber(e,t),!a.hasSubscribers(e)){try{var u=r.sharedWebSockets[e];u instanceof WebSocket&&(u.onclose=function(e){n.current.onClose&&n.current.onClose(e),c(o.ReadyState.CLOSED)}),u.close()}catch(i){}s&&s(),delete r.sharedWebSockets[e]}}}(t,h,u,n,p)}if(n(o.ReadyState.CONNECTING),e.current=u.current.eventSourceOptions?new EventSource(t,u.current.eventSourceOptions):new WebSocket(t,u.current.protocols),!e.current)throw new Error("WebSocket failed to be created");return c.attachListeners(e.current,{setLastMessage:i,setReadyState:n},u,l.current,f,d)}},6974:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function s(e){try{u(r.next(e))}catch(t){c(t)}}function a(e){try{u(r.throw(e))}catch(t){c(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,c,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(a){c=[6,a],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=void 0;var c=n(1787);t.getUrl=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return"function"!==typeof e?[3,2]:[4,e()];case 1:return n=o.sent(),[3,3];case 2:n=e,o.label=3;case 3:return r=t.current.fromSocketIO?c.parseSocketIOUrl(n):n,[2,t.current.queryParams?c.appendQueryParams(r,t.current.queryParams):r]}}))}))}},4401:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedWebSockets=void 0,t.sharedWebSockets={}},4480:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSubscriber=t.addSubscriber=t.hasSubscribers=t.getSubscribers=void 0;var n={},r=[];t.getSubscribers=function(e){return t.hasSubscribers(e)?Array.from(n[e]):r},t.hasSubscribers=function(e){var t;return(null===(t=n[e])||void 0===t?void 0:t.size)>0},t.addSubscriber=function(e,t){n[e]=n[e]||new Set,n[e].add(t)},t.removeSubscriber=function(e,t){n[e].delete(t)}},4387:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.websocketWrapper=void 0,t.websocketWrapper=function(e,t){return new Proxy(e,{get:function(e,n){var r=e[n];return"reconnect"===n?t:"function"===typeof r?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):r},set:function(e,t,n){return/^on/.test(t)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(e[t]=n,!0)}})},t.default=t.websocketWrapper},1787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUpSocketIOPing=t.appendQueryParams=t.parseSocketIOUrl=void 0;var r=n(1581);t.parseSocketIOUrl=function(e){if(e)return(t=/^https|wss/.test(e)?"wss":"ws")+"://"+e.replace(/^(https?|wss?)(:\/\/)?/,"").replace(/\/$/,"")+r.SOCKET_IO_PATH;if(""===e){var t=/^https/.test(window.location.protocol)?"wss":"ws",n=window.location.port?":"+window.location.port:"";return t+"://"+window.location.hostname+n+r.SOCKET_IO_PATH}return e},t.appendQueryParams=function(e,t){void 0===t&&(t={});return e+(/\?([\w]+=[\w]+)/.test(e)?"&":"?")+(""+Object.entries(t).reduce((function(e,t){return e+(t[0]+"=")+t[1]+"&"}),"").slice(0,-1))},t.setUpSocketIOPing=function(e,t){void 0===t&&(t=r.SOCKET_IO_PING_INTERVAL);return setInterval((function(){return e(r.SOCKET_IO_PING_CODE)}),t)}},9448:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.useEventSource=void 0;var c=n(7294),s=n(1835),a=n(1581);t.useEventSource=function(e,t,n){void 0===t&&(t=a.DEFAULT_EVENT_SOURCE_OPTIONS),void 0===n&&(n=!0);var u=t.withCredentials,i=t.events,l=o(t,["withCredentials","events"]),f=r(r({},l),{eventSourceOptions:{withCredentials:u}}),d=c.useRef(a.EMPTY_EVENT_HANDLERS);i&&(d.current=i);var p=s.useWebSocket(e,f,n),h=p.lastMessage,v=p.readyState,b=p.getWebSocket;return c.useEffect((function(){(null===h||void 0===h?void 0:h.type)&&Object.entries(d.current).forEach((function(e){var t=e[0],n=e[1];t===h.type&&n(h)}))}),[h]),{lastEvent:h,readyState:v,getEventSource:b}}},6548:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSocketIO=void 0;var o=n(7294),c=n(1835),s=n(1581),a={type:"empty",payload:null};t.useSocketIO=function(e,t,n){void 0===t&&(t=s.DEFAULT_OPTIONS),void 0===n&&(n=!0);var u=o.useMemo((function(){return r(r({},t),{fromSocketIO:!0})}),[]),i=c.useWebSocket(e,u,n),l=i.sendMessage,f=i.sendJsonMessage,d=i.lastMessage,p=i.readyState,h=i.getWebSocket,v=o.useMemo((function(){return function(e){if(!e||!e.data)return a;var t=e.data.match(/\[.*]/);if(!t)return a;var n=JSON.parse(t);return Array.isArray(n)&&n[1]?{type:n[0],payload:n[1]}:a}(d)}),[d]);return{sendMessage:l,sendJsonMessage:f,lastMessage:v,lastJsonMessage:v,readyState:p,getWebSocket:h}}},1835:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function s(e){try{u(r.next(e))}catch(t){c(t)}}function a(e){try{u(r.throw(e))}catch(t){c(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,c,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(a){c=[6,a],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWebSocket=void 0;var a=n(7294),u=n(1581),i=n(3758),l=n(6974),f=s(n(4387)),d=n(9885);t.useWebSocket=function(e,t,n){void 0===t&&(t=u.DEFAULT_OPTIONS),void 0===n&&(n=!0);var s=a.useState(null),p=s[0],h=s[1],v=a.useState({}),b=v[0],m=v[1],S=a.useMemo((function(){if(p)try{return JSON.parse(p.data)}catch(e){return u.UNPARSABLE_JSON_OBJECT}return null}),[p]),y=a.useRef(null),O=a.useRef(null),E=a.useRef((function(){})),w=a.useRef(0),g=a.useRef([]),C=a.useRef(null),N=a.useRef(t);N.current=t;var _=y.current&&void 0!==b[y.current]?b[y.current]:null!==e&&!0===n?u.ReadyState.CONNECTING:u.ReadyState.UNINSTANTIATED,x=t.queryParams?JSON.stringify(t.queryParams):null,A=a.useCallback((function(e){u.isEventSourceSupported&&O.current instanceof EventSource?console.warn("Unable to send a message from an eventSource"):O.current&&O.current.readyState===u.ReadyState.OPEN?(d.assertIsWebSocket(O.current),O.current.send(e)):g.current.push(e)}),[]),j=a.useCallback((function(e){A(JSON.stringify(e))}),[A]),T=a.useCallback((function(){return!0!==N.current.share||u.isEventSourceSupported&&O.current instanceof EventSource?O.current:(null===C.current&&O.current&&(d.assertIsWebSocket(O.current),C.current=f.default(O.current,E)),C.current)}),[]);return a.useEffect((function(){if(null!==e&&!0===n){var t,s=!1,a=function(){return o(void 0,void 0,void 0,(function(){var n,o,a;return c(this,(function(c){switch(c.label){case 0:return n=y,[4,l.getUrl(e,N)];case 1:return n.current=c.sent(),o=function(e){s||h(e)},a=function(e){s||m((function(t){var n;return r(r({},t),y.current&&((n={})[y.current]=e,n))}))},t=i.createOrJoinSocket(O,y.current,a,N,o,E,w,A),[2]}}))}))};return E.current=function(){s||(C.current&&(C.current=null),null===t||void 0===t||t(),a())},a(),function(){s=!0,C.current&&(C.current=null),null===t||void 0===t||t(),h(null)}}null!==e&&!1!==n||m((function(e){var t;return r(r({},e),y.current&&((t={})[y.current]=u.ReadyState.CLOSED,t))}))}),[e,n,x,A]),a.useEffect((function(){_===u.ReadyState.OPEN&&g.current.splice(0).forEach((function(e){A(e)}))}),[_]),{sendMessage:A,sendJsonMessage:j,lastMessage:p,lastJsonMessage:S,readyState:_,getWebSocket:T}}},9885:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsWebSocket=void 0,t.assertIsWebSocket=function(e){if(e instanceof WebSocket===!1)throw new Error("")}}},function(e){e.O(0,[774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);